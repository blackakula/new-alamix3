$menu_darken: 30%;
$menu_lighten1: 20%;
$menu_lighten2: 34%;

$menu_color0_b: darken($menu_color0, $menu_darken);
$menu_color1_b: darken($menu_color1, $menu_darken);
$menu_color2_b: darken($menu_color2, $menu_darken);
$menu_color3_b: darken($menu_color3, $menu_darken);
$menu_color4_b: darken($menu_color4, $menu_darken);

$menu_color_l0: lighten($menu_color0, $menu_lighten1);
$menu_color_l1: lighten($menu_color1, $menu_lighten1);
$menu_color_l2: lighten($menu_color2, $menu_lighten1);
$menu_color_l3: lighten($menu_color3, $menu_lighten1);
$menu_color_l4: lighten($menu_color4, $menu_lighten1);

$menu_color_l0_b: lighten($menu_color0, $menu_lighten2);
$menu_color_l1_b: lighten($menu_color1, $menu_lighten2);
$menu_color_l2_b: lighten($menu_color2, $menu_lighten2);
$menu_color_l3_b: lighten($menu_color3, $menu_lighten2);
$menu_color_l4_b: lighten($menu_color4, $menu_lighten2);

$menu_item_min_width: 66px;

@mixin alamix-menu($menu_font_size: 10pt) {

  //set sizes
  $menu_font_hover_size: 1.15 * $menu_font_size;

  $menu_item_width: 17%;
  $menu_space_width: (100% - 5 * $menu_item_width) / 4;

  $menu_item_height: .78;

  $menu_item_text_height: 34%;
  $menu_item_tab_height: 50% / $menu_item_height - $menu_item_text_height / 2;
  $menu_item_tail_height: 100% - $menu_item_text_height - $menu_item_tab_height;

  $menu_text_height: $menu_item_text_height;

  $menu_item_round_height: 15%;
  $menu_item_round_width: 15%;

  //set styles
  text-align: center;

  .item {
    width: $menu_item_width;
    min-width: $menu_item_min_width;
    position: relative;
    float: left;
    height: $menu_item_height * 100%;
    span { display: block; }
    .text {
      height: $menu_item_text_height;
      line-height: 150%;
    }
    a {
      font-size: $menu_font_size;
      text-decoration: none;
    }
    a:hover { font-size: $menu_font_hover_size; }
  }

  .up, .down, .tail {
    border-bottom-right-radius: $menu_item_round_width $menu_item_round_height;
    -moz-border-radius-bottomright: $menu_item_round_width $menu_item_round_height;
    -webkit-border-radius-bottomright: $menu_item_round_width $menu_item_round_height;

    border-bottom-left-radius: $menu_item_round_width $menu_item_round_height;
    -moz-border-radius-bottomleft: $menu_item_round_width $menu_item_round_height;
    -webkit-border-radius-bottomleft: $menu_item_round_width $menu_item_round_height;
  }

  .down, .down .head {
    border-top-right-radius: $menu_item_round_width $menu_item_round_height;
    -moz-border-radius-topright: $menu_item_round_width $menu_item_round_height;
    -webkit-border-radius-topright: $menu_item_round_width $menu_item_round_height;

    border-top-left-radius: $menu_item_round_width $menu_item_round_height;
    -moz-border-radius-topleft: $menu_item_round_width $menu_item_round_height;
    -webkit-border-radius-topleft: $menu_item_round_width $menu_item_round_height;
  }

  .item, .item .head, .item .tail {
    font-size: 0;
  }

  .up { top: 0; }
  .down { top: (1 - $menu_item_height) * 100%; }
  .up .head, .down .tail { height: $menu_item_tab_height; }
  .up .tail, .down .head { height: $menu_item_tail_height; }

  .item0 {
    left: 0;
    background-color: $menu_color0_b;
  }
  .item1 {
    left: $menu_space_width;
    background-color: $menu_color1_b;
  }
  .item2 {
    left: 2 * $menu_space_width;
    background-color: $menu_color2_b;
  }
  .item3 {
    left: 3 * $menu_space_width;
    background-color: $menu_color3_b;
  }
  .item4 {
    left: 4 * $menu_space_width;
    background-color: $menu_color4_b;
  }

  .item.light0 {
    background-color: $menu_color_l0_b;
    a { color: $menu_color_l0; }
    .head, .tail { background-color: $menu_color_l0; }
  }
  .item.light1 {
    background-color: $menu_color_l1_b;
    a { color: $menu_color_l1; }
    .head, .tail { background-color: $menu_color_l1; }
  }
  .item.light2 {
    background-color: $menu_color_l2_b;
    a { color: $menu_color_l2; }
    .head, .tail { background-color: $menu_color_l2; }
  }
  .item.light3 {
    background-color: $menu_color_l3_b;
    a { color: $menu_color_l3; }
    .head, .tail { background-color: $menu_color_l3; }
  }
  .item.light4 {
    background-color: $menu_color_l4_b;
    a { color: $menu_color_l4; }
    .head, .tail { background-color: $menu_color_l4; }
  }
}